(function(){"use strict";var e={8413:function(e,o,t){var l=t(5130),a=t(6768),r=t(4232),n=t(144),u=(t(6573),t(8100),t(7936),t(7467),t(4732),t(9577),t(4979),t(7844)),s=t(6400),i=t(7617),d=t(4373);const c={apiKey:"AIzaSyBBX7sp_65wTSHwCX9siLnpZDVG4I-JhzQ",authDomain:"book-app-cc374.firebaseapp.com",projectId:"book-app-cc374",storageBucket:"book-app-cc374.appspot.com",messagingSenderId:"1007719181960",appId:"1:1007719181960:web:d61269ee6edd5e0333b93d",measurementId:"G-223D17K9G8"},b=(0,s.Wp)(c),p=((0,i.aU)(b),(0,u.c7)(b)),g="https://firestore.googleapis.com/v1/projects/book-app-cc374/databases/(default)/documents",v=d.A.create({baseURL:g,headers:{"Content-Type":"application/json"}}),f=e=>((0,a.Qi)("data-v-7af7c90c"),e=e(),(0,a.jt)(),e),m={class:"container mx-auto px-4 py-6"},h={class:"bg-gray-100 p-4 rounded-lg"},k={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},y=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"title"},"Title",-1))),w={key:0,class:"text-red-500 text-sm mt-1"},x=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"author"},"Author",-1))),L={key:0,class:"text-red-500 text-sm mt-1"},C=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"isbn"},"ISBN",-1))),_={key:0,class:"text-red-500 text-sm mt-1"},E=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"publishedDate"},"Published Date",-1))),D={key:0,class:"text-red-500 text-sm mt-1"},U=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"genre"},"Genre",-1))),V={key:0,class:"text-red-500 text-sm mt-1"},B={class:"col-span-2"},K=f((()=>(0,a.Lk)("label",{class:"block text-gray-700 font-medium mb-1",for:"image"},"Book Cover",-1)));var R={__name:"BookForm",setup(e){const o=(0,n.KR)(""),t=(0,n.KR)(""),s=(0,n.KR)(""),i=(0,n.KR)(""),d=(0,n.KR)(""),c=(0,n.KR)(null),b=(0,n.KR)(""),g=(0,n.KR)({}),f=(e,o)=>{const t=atob(e),l=new ArrayBuffer(t.length),a=new Uint8Array(l);for(let r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([l],{type:o})},R=e=>{const o=e.target.files[0];if(o){const e=new FileReader;e.onload=e=>{const t=e.target.result.split(",")[1],l=o.type;c.value=f(t,l)},e.readAsDataURL(o)}else c.value=null},j=async()=>{if(c.value){const e=(0,u.KR)(p,`books/${Date.now()}_${c.value.name||"image"}`),o=(0,u.bp)(e,c.value);return new Promise(((e,t)=>{o.on("state_changed",null,(e=>{console.error("Error uploading image: ",e),t(e)}),(()=>{(0,u.qk)(o.snapshot.ref).then((o=>{b.value=o,e(o)}))}))}))}return null},S=()=>{g.value={};let e=!0;return o.value||(g.value.title="Title is required",e=!1),t.value||(g.value.author="Author is required",e=!1),s.value||(g.value.isbn="ISBN is required",e=!1),i.value||(g.value.publishedDate="Published Date is required",e=!1),d.value||(g.value.genre="Genre is required",e=!1),e},A=async()=>{if(!S())return;const e=await j(),l={fields:{title:{stringValue:o.value},author:{stringValue:t.value},isbn:{stringValue:s.value},publishedDate:{stringValue:i.value},genre:{stringValue:d.value},imageUrl:{stringValue:e||""}}};try{await v.post("/books",l),alert("Book added successfully!"),o.value="",t.value="",s.value="",i.value="",d.value="",c.value=null}catch(a){console.error("Error adding book: ",a)}};return(e,n)=>((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",h,[(0,a.Lk)("div",k,[(0,a.Lk)("div",null,[y,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>o.value=e),id:"title",type:"text",placeholder:"Title",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,512),[[l.Jo,o.value]]),g.value.title?((0,a.uX)(),(0,a.CE)("p",w,(0,r.v_)(g.value.title),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[x,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e),id:"author",type:"text",placeholder:"Author",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,512),[[l.Jo,t.value]]),g.value.author?((0,a.uX)(),(0,a.CE)("p",L,(0,r.v_)(g.value.author),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[C,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),id:"isbn",type:"text",placeholder:"ISBN",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,512),[[l.Jo,s.value]]),g.value.isbn?((0,a.uX)(),(0,a.CE)("p",_,(0,r.v_)(g.value.isbn),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[E,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>i.value=e),id:"publishedDate",type:"date",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,512),[[l.Jo,i.value]]),g.value.publishedDate?((0,a.uX)(),(0,a.CE)("p",D,(0,r.v_)(g.value.publishedDate),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[U,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>d.value=e),id:"genre",type:"text",placeholder:"Genre",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,512),[[l.Jo,d.value]]),g.value.genre?((0,a.uX)(),(0,a.CE)("p",V,(0,r.v_)(g.value.genre),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",B,[K,(0,a.Lk)("input",{type:"file",onChange:R,id:"image",class:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"},null,32)]),(0,a.Lk)("button",{onClick:A,class:"bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors duration-200 col-span-2"},"Add Book")])])]))}},j=t(1241);const S=(0,j.A)(R,[["__scopeId","data-v-7af7c90c"]]);var A=S;const O=e=>((0,a.Qi)("data-v-6a1fb1be"),e=e(),(0,a.jt)(),e),X={class:"max-w-4xl mx-auto pt-4"},I={class:"mb-6 flex flex-col sm:flex-row sm:items-center sm:gap-4"},Q=O((()=>(0,a.Lk)("option",{value:"publishedDate"},"Sort by Published Date",-1))),T=O((()=>(0,a.Lk)("option",{value:"genre"},"Sort by Genre",-1))),J=[Q,T],P={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 bg-slate-100"},G=["src"],q={class:"text-center"},F={class:"text-lg font-semibold text-gray-800 mb-2"},$={class:"text-gray-600 mb-2"},z={class:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},M=["onClick"],N=["onClick"],W={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50"},H={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl relative"},Y=O((()=>(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M6.293 4.293a1 1 0 011.414 0L10 5.586l2.293-2.293a1 1 0 111.414 1.414L11.414 7l2.293 2.293a1 1 0 01-1.414 1.414L10 8.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 9 6.293 6.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))),Z=[Y],ee={key:1,class:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50"},oe={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},te=O((()=>(0,a.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Edit Book",-1)));var le={__name:"BookList",setup(e){const o=(0,n.KR)([]),t=(0,n.KR)(null),s=(0,n.KR)(null),i=(0,n.KR)(""),d=(0,n.KR)("publishedDate"),c=(0,n.KR)(!1),b=async()=>{try{const e=await v.get("/books");o.value=e.data.documents.map((e=>({id:e.name.split("/").pop(),...Object.fromEntries(Object.entries(e.fields).map((([e,o])=>[e,o.stringValue])))})))}catch(e){console.error("Error fetching books: ",e)}},g=(0,a.EW)((()=>{const e=i.value.toLowerCase();let t=o.value.filter((o=>o.title.toLowerCase().includes(e)||o.author.toLowerCase().includes(e)));return"publishedDate"===d.value?t.sort(((e,o)=>new Date(o.publishedDate)-new Date(e.publishedDate))):"genre"===d.value?t.sort(((e,o)=>e.genre.localeCompare(o.genre))):t})),f=e=>{t.value={...e}},m=async e=>{try{await v.delete(`/books/${e}`),o.value=o.value.filter((o=>o.id!==e))}catch(t){console.error("Error deleting book: ",t)}},h=()=>{t.value=null,s.value=null},k=e=>{s.value=e.target.files[0]},y=async()=>{if(s.value){const e=(0,u.KR)(p,`books/${Date.now()}_${s.value.name}`),o=(0,u.bp)(e,s.value);return new Promise(((e,t)=>{o.on("state_changed",null,(e=>{console.error("Error uploading image: ",e),t(e)}),(()=>{(0,u.qk)(o.snapshot.ref).then((o=>{e(o)}))}))}))}return t.value.imageUrl},w=async()=>{const e=await y(),l={fields:{title:{stringValue:t.value.title},genre:{stringValue:t.value.genre},imageUrl:{stringValue:e||""}}};try{await v.patch(`/books/${t.value.id}`,l),o.value=o.value.map((o=>o.id===t.value.id?{...t.value,imageUrl:e}:o)),h()}catch(a){console.error("Error updating book: ",a)}};return(0,a.sV)(b),(e,o)=>((0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",I,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),type:"text",placeholder:"Search by title or author",class:"w-full sm:w-64 border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300","aria-label":"Search by title or author"},null,512),[[l.Jo,i.value]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>d.value=e),onChange:b,class:"mt-4 sm:mt-0 sm:w-64 border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300","aria-label":"Sort books"},J,544),[[l.u1,d.value]]),(0,a.Lk)("button",{onClick:o[2]||(o[2]=e=>c.value=!0),class:"mt-4 sm:mt-0 bg-green-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-200"}," Create Book ")]),(0,a.Lk)("div",P,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"relative bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-shadow duration-300 shadow-md hover:shadow-lg group",role:"listitem"},[e.imageUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,src:e.imageUrl,alt:"Book cover",class:"w-full h-48 object-cover rounded-t-lg mb-4"},null,8,G)):(0,a.Q3)("",!0),(0,a.Lk)("div",q,[(0,a.Lk)("h3",F,(0,r.v_)(e.title),1),(0,a.Lk)("p",$,(0,r.v_)(e.genre),1)]),(0,a.Lk)("div",z,[(0,a.Lk)("button",{onClick:o=>f(e),class:"bg-blue-500 text-white font-semibold px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-200"}," Edit ",8,M),(0,a.Lk)("button",{onClick:o=>m(e.id),class:"bg-red-500 text-white font-semibold px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-200"}," Delete ",8,N)])])))),128))]),c.value?((0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",H,[(0,a.Lk)("button",{onClick:o[3]||(o[3]=e=>c.value=!1),class:"absolute top-3 right-3 bg-gray-200 text-gray-800 rounded-full p-2 hover:bg-gray-300 transition-colors duration-200","aria-label":"Close modal"},Z),(0,a.bF)(A,{onClose:o[4]||(o[4]=e=>c.value=!1)})])])):(0,a.Q3)("",!0),t.value?((0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("div",oe,[te,(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>t.value.title=e),placeholder:"Title",class:"border border-gray-300 rounded-lg p-3 mb-3 w-full focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Edit book title"},null,512),[[l.Jo,t.value.title]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>t.value.genre=e),placeholder:"Genre",class:"border border-gray-300 rounded-lg p-3 mb-3 w-full focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Edit book genre"},null,512),[[l.Jo,t.value.genre]]),(0,a.Lk)("input",{type:"file",onChange:k,class:"mb-4 w-full","aria-label":"Upload book cover"},null,32),(0,a.Lk)("div",{class:"flex gap-2"},[(0,a.Lk)("button",{onClick:w,class:"bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200"}," Update "),(0,a.Lk)("button",{onClick:h,class:"bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-200"}," Cancel ")])])])):(0,a.Q3)("",!0)]))}};const ae=(0,j.A)(le,[["__scopeId","data-v-6a1fb1be"]]);var re=ae;const ne={class:"bg-cover bg-center bg-no-repeat bg-book-image min-h-screen p-4"},ue={id:"app",class:"container mx-auto space-y-8"},se=(0,a.Fv)('<div class="hero-container" data-v-51d7c1f6><div class="hero-content" data-v-51d7c1f6><h1 class="hero-title" data-v-51d7c1f6>Book App</h1><h2 class="hero-subtitle" data-v-51d7c1f6>Your Ultimate Book Collection</h2><p class="hero-intro" data-v-51d7c1f6>Discover and manage your favorite books with ease and efficiency.</p></div></div>',1),ie={class:"bg-white",style:{"margin-top":"0"}};var de={__name:"App",setup(e){return(e,o)=>((0,a.uX)(),(0,a.CE)("div",ne,[(0,a.Lk)("div",ue,[se,(0,a.Lk)("div",ie,[(0,a.bF)(re)])])]))}};const ce=(0,j.A)(de,[["__scopeId","data-v-51d7c1f6"]]);var be=ce;(0,l.Ef)(be).mount("#app")}},o={};function t(l){var a=o[l];if(void 0!==a)return a.exports;var r=o[l]={exports:{}};return e[l].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(o,l,a,r){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],r=e[d][2];for(var u=!0,s=0;s<l.length;s++)(!1&r||n>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(u=!1,r<n&&(n=r));if(u){e.splice(d--,1);var i=a();void 0!==i&&(o=i)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,a,r]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,l){var a,r,n=l[0],u=l[1],s=l[2],i=0;if(n.some((function(o){return 0!==e[o]}))){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(s)var d=s(t)}for(o&&o(l);i<n.length;i++)r=n[i],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},l=self["webpackChunkbook_crud_app"]=self["webpackChunkbook_crud_app"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(8413)}));l=t.O(l)})();
//# sourceMappingURL=app.428bda55.js.map