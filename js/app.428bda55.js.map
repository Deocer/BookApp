{"version":3,"file":"js/app.428bda55.js","mappings":"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","sources":["webpack://book-crud-app/./src/firebase.js","webpack://book-crud-app/./src/components/BookForm.vue","webpack://book-crud-app/./src/components/BookForm.vue?f640","webpack://book-crud-app/./src/components/BookList.vue","webpack://book-crud-app/./src/components/BookList.vue?0b7c","webpack://book-crud-app/./src/App.vue","webpack://book-crud-app/./src/main.js","webpack://book-crud-app/webpack/bootstrap","webpack://book-crud-app/webpack/runtime/chunk loaded","webpack://book-crud-app/webpack/runtime/compat get default export","webpack://book-crud-app/webpack/runtime/define property getters","webpack://book-crud-app/webpack/runtime/global","webpack://book-crud-app/webpack/runtime/hasOwnProperty shorthand","webpack://book-crud-app/webpack/runtime/make namespace object","webpack://book-crud-app/webpack/runtime/jsonp chunk loading","webpack://book-crud-app/webpack/startup"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport axios from 'axios';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBBX7sp_65wTSHwCX9siLnpZDVG4I-JhzQ\",\r\n  authDomain: \"book-app-cc374.firebaseapp.com\",\r\n  projectId: \"book-app-cc374\",\r\n  storageBucket: \"book-app-cc374.appspot.com\",\r\n  messagingSenderId: \"1007719181960\",\r\n  appId: \"1:1007719181960:web:d61269ee6edd5e0333b93d\",\r\n  measurementId: \"G-223D17K9G8\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// Initialize Firestore\r\nconst db = getFirestore(app);\r\n\r\n// Initialize Firebase Storage\r\nconst storage = getStorage(app);\r\n\r\n// Axios instance for Firestore REST API\r\nconst firestoreBaseUrl = `https://firestore.googleapis.com/v1/projects/book-app-cc374/databases/(default)/documents`;\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: firestoreBaseUrl,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    // Authorization header can be added if needed for authenticated access\r\n    // 'Authorization': `Bearer YOUR_AUTH_TOKEN`\r\n  }\r\n});\r\n\r\nexport { db, storage, axiosInstance };","<template>\r\n  <div class=\"container mx-auto px-4 py-6\">\r\n      <div class=\"bg-gray-100 p-4 rounded-lg\">\r\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"title\">Title</label>\r\n            <input v-model=\"title\" id=\"title\" type=\"text\" placeholder=\"Title\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n            <p v-if=\"errors.title\" class=\"text-red-500 text-sm mt-1\">{{ errors.title }}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"author\">Author</label>\r\n            <input v-model=\"author\" id=\"author\" type=\"text\" placeholder=\"Author\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n            <p v-if=\"errors.author\" class=\"text-red-500 text-sm mt-1\">{{ errors.author }}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"isbn\">ISBN</label>\r\n            <input v-model=\"isbn\" id=\"isbn\" type=\"text\" placeholder=\"ISBN\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n            <p v-if=\"errors.isbn\" class=\"text-red-500 text-sm mt-1\">{{ errors.isbn }}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"publishedDate\">Published Date</label>\r\n            <input v-model=\"publishedDate\" id=\"publishedDate\" type=\"date\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n            <p v-if=\"errors.publishedDate\" class=\"text-red-500 text-sm mt-1\">{{ errors.publishedDate }}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"genre\">Genre</label>\r\n            <input v-model=\"genre\" id=\"genre\" type=\"text\" placeholder=\"Genre\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n            <p v-if=\"errors.genre\" class=\"text-red-500 text-sm mt-1\">{{ errors.genre }}</p>\r\n          </div>\r\n\r\n          <div class=\"col-span-2\">\r\n            <label class=\"block text-gray-700 font-medium mb-1\" for=\"image\">Book Cover</label>\r\n            <input type=\"file\" @change=\"onFileChange\" id=\"image\" class=\"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500\" />\r\n          </div>\r\n\r\n          <button @click=\"createBook\" class=\"bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors duration-200 col-span-2\">Add Book</button>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { getDownloadURL, ref as storageRef, uploadBytesResumable } from 'firebase/storage';\r\nimport { axiosInstance, storage } from '../firebase';\r\n\r\nconst title = ref('');\r\nconst author = ref('');\r\nconst isbn = ref('');\r\nconst publishedDate = ref('');\r\nconst genre = ref('');\r\nconst imageFile = ref(null);\r\nconst imageUrl = ref('');\r\nconst errors = ref({});\r\n\r\n\r\nconst base64ToBlob = (base64String, mimeType) => {\r\n  const byteString = atob(base64String);\r\n  const arrayBuffer = new ArrayBuffer(byteString.length);\r\n  const uint8Array = new Uint8Array(arrayBuffer);\r\n  for (let i = 0; i < byteString.length; i++) {\r\n    uint8Array[i] = byteString.charCodeAt(i);\r\n  }\r\n  return new Blob([arrayBuffer], { type: mimeType });\r\n};\r\n\r\nconst onFileChange = (e) => {\r\n  const file = e.target.files[0];\r\n  if (file) {\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const base64String = event.target.result.split(',')[1];\r\n      const mimeType = file.type;\r\n      imageFile.value = base64ToBlob(base64String, mimeType);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  } else {\r\n    imageFile.value = null;\r\n  }\r\n};\r\n\r\nconst uploadImage = async () => {\r\n  if (imageFile.value) {\r\n    const storageReference = storageRef(storage, `books/${Date.now()}_${imageFile.value.name || 'image'}`);\r\n    const uploadTask = uploadBytesResumable(storageReference, imageFile.value);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      uploadTask.on(\r\n        'state_changed',\r\n        null,\r\n        (error) => {\r\n          console.error(\"Error uploading image: \", error);\r\n          reject(error);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            imageUrl.value = downloadURL;\r\n            resolve(downloadURL);\r\n          });\r\n        }\r\n      );\r\n    });\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nconst validateForm = () => {\r\n  errors.value = {};\r\n  let valid = true;\r\n  if (!title.value) {\r\n    errors.value.title = 'Title is required';\r\n    valid = false;\r\n  }\r\n  if (!author.value) {\r\n    errors.value.author = 'Author is required';\r\n    valid = false;\r\n  }\r\n  if (!isbn.value) {\r\n    errors.value.isbn = 'ISBN is required';\r\n    valid = false;\r\n  }\r\n  if (!publishedDate.value) {\r\n    errors.value.publishedDate = 'Published Date is required';\r\n    valid = false;\r\n  }\r\n  if (!genre.value) {\r\n    errors.value.genre = 'Genre is required';\r\n    valid = false;\r\n  }\r\n  return valid;\r\n};\r\n\r\nconst createBook = async () => {\r\n  if (!validateForm()) {\r\n    return;\r\n  }\r\n\r\n  const uploadedImageUrl = await uploadImage();\r\n\r\n  const bookData = {\r\n    fields: {\r\n      title: { stringValue: title.value },\r\n      author: { stringValue: author.value },\r\n      isbn: { stringValue: isbn.value },\r\n      publishedDate: { stringValue: publishedDate.value },\r\n      genre: { stringValue: genre.value },\r\n      imageUrl: { stringValue: uploadedImageUrl || '' }\r\n    }\r\n  };\r\n\r\n  try {\r\n    await axiosInstance.post('/books', bookData);\r\n    alert('Book added successfully!');\r\n    // Clear input fields after adding the book\r\n    title.value = '';\r\n    author.value = '';\r\n    isbn.value = '';\r\n    publishedDate.value = '';\r\n    genre.value = '';\r\n    imageFile.value = null;\r\n  } catch (error) {\r\n    console.error(\"Error adding book: \", error);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.accordion-enter-active, .accordion-leave-active {\r\n  transition: none;\r\n}\r\n.accordion-enter, .accordion-leave-to {\r\n  height: auto;\r\n}\r\n</style>\r\n","import script from \"./BookForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookForm.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BookForm.vue?vue&type=style&index=0&id=7af7c90c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7af7c90c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"max-w-4xl mx-auto pt-4\">\r\n    <!-- Search, Sort, and Create Book Button -->\r\n    <div class=\"mb-6 flex flex-col sm:flex-row sm:items-center sm:gap-4\">\r\n      <input\r\n        v-model=\"searchQuery\"\r\n        type=\"text\"\r\n        placeholder=\"Search by title or author\"\r\n        class=\"w-full sm:w-64 border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300\"\r\n        aria-label=\"Search by title or author\"\r\n      />\r\n\r\n      <select\r\n        v-model=\"sortBy\"\r\n        @change=\"fetchBooks\"\r\n        class=\"mt-4 sm:mt-0 sm:w-64 border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300\"\r\n        aria-label=\"Sort books\"\r\n      >\r\n        <option value=\"publishedDate\">Sort by Published Date</option>\r\n        <option value=\"genre\">Sort by Genre</option>\r\n      </select>\r\n\r\n      <!-- Create Book Button -->\r\n      <button\r\n        @click=\"showBookFormModal = true\"\r\n        class=\"mt-4 sm:mt-0 bg-green-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-200\"\r\n      >\r\n        Create Book\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Book List -->\r\n    <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 bg-slate-100\">\r\n      <div\r\n        v-for=\"book in filteredBooks\"\r\n        :key=\"book.id\"\r\n        class=\"relative bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-shadow duration-300 shadow-md hover:shadow-lg group\"\r\n        role=\"listitem\"\r\n      >\r\n        <img\r\n          v-if=\"book.imageUrl\"\r\n          :src=\"book.imageUrl\"\r\n          alt=\"Book cover\"\r\n          class=\"w-full h-48 object-cover rounded-t-lg mb-4\"\r\n        />\r\n        <div class=\"text-center\">\r\n          <h3 class=\"text-lg font-semibold text-gray-800 mb-2\">{{ book.title }}</h3>\r\n          <p class=\"text-gray-600 mb-2\">{{ book.genre }}</p>\r\n        </div>\r\n\r\n        <!-- Edit and Delete buttons -->\r\n        <div class=\"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\r\n          <button\r\n            @click=\"editBook(book)\"\r\n            class=\"bg-blue-500 text-white font-semibold px-3 py-1 rounded-lg hover:bg-blue-600 transition-colors duration-200\"\r\n          >\r\n            Edit\r\n          </button>\r\n          <button\r\n            @click=\"deleteBook(book.id)\"\r\n            class=\"bg-red-500 text-white font-semibold px-3 py-1 rounded-lg hover:bg-red-600 transition-colors duration-200\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n<!-- BookForm Modal -->\r\n<div\r\n  v-if=\"showBookFormModal\"\r\n  class=\"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50\"\r\n>\r\n  <div class=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl relative\">\r\n    <!-- Close Button -->\r\n    <button\r\n      @click=\"showBookFormModal = false\"\r\n      class=\"absolute top-3 right-3 bg-gray-200 text-gray-800 rounded-full p-2 hover:bg-gray-300 transition-colors duration-200\"\r\n      aria-label=\"Close modal\"\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        class=\"w-5 h-5\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"currentColor\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <path\r\n          fill-rule=\"evenodd\"\r\n          d=\"M6.293 4.293a1 1 0 011.414 0L10 5.586l2.293-2.293a1 1 0 111.414 1.414L11.414 7l2.293 2.293a1 1 0 01-1.414 1.414L10 8.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 9 6.293 6.707a1 1 0 010-1.414z\"\r\n          clip-rule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    </button>\r\n    <BookForm @close=\"showBookFormModal = false\" />\r\n  </div>\r\n</div>\r\n\r\n\r\n    <!-- Edit Form as Modal -->\r\n    <div\r\n      v-if=\"editingBook\"\r\n      class=\"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center z-50\"\r\n    >\r\n      <div class=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-md\">\r\n        <h3 class=\"text-xl font-semibold mb-4\">Edit Book</h3>\r\n        <input\r\n          v-model=\"editingBook.title\"\r\n          placeholder=\"Title\"\r\n          class=\"border border-gray-300 rounded-lg p-3 mb-3 w-full focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          aria-label=\"Edit book title\"\r\n        />\r\n        <input\r\n          v-model=\"editingBook.genre\"\r\n          placeholder=\"Genre\"\r\n          class=\"border border-gray-300 rounded-lg p-3 mb-3 w-full focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          aria-label=\"Edit book genre\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          @change=\"onFileChange\"\r\n          class=\"mb-4 w-full\"\r\n          aria-label=\"Upload book cover\"\r\n        />\r\n        <div class=\"flex gap-2\">\r\n          <button\r\n            @click=\"updateBook\"\r\n            class=\"bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors duration-200\"\r\n          >\r\n            Update\r\n          </button>\r\n          <button\r\n            @click=\"cancelEdit\"\r\n            class=\"bg-red-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-200\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport BookForm from './BookForm.vue'; // Import the BookForm component\r\nimport { axiosInstance, storage } from '../firebase';\r\nimport { getDownloadURL, ref as storageRef, uploadBytesResumable } from 'firebase/storage';\r\n\r\nconst books = ref([]);\r\nconst editingBook = ref(null);\r\nconst imageFile = ref(null);\r\nconst searchQuery = ref('');\r\nconst sortBy = ref('publishedDate');\r\nconst showBookFormModal = ref(false); // State to control the visibility of the form\r\n\r\n// Fetch books from Firebase\r\nconst fetchBooks = async () => {\r\n  try {\r\n    const response = await axiosInstance.get('/books');\r\n    books.value = response.data.documents.map(doc => ({\r\n      id: doc.name.split('/').pop(),\r\n      ...Object.fromEntries(\r\n        Object.entries(doc.fields).map(([key, value]) => [key, value.stringValue])\r\n      )\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error fetching books: \", error);\r\n  }\r\n};\r\n\r\n// Computed property to filter and sort books\r\nconst filteredBooks = computed(() => {\r\n  const query = searchQuery.value.toLowerCase();\r\n  let filtered = books.value.filter(book => {\r\n    return book.title.toLowerCase().includes(query) || book.author.toLowerCase().includes(query);\r\n  });\r\n\r\n  if (sortBy.value === 'publishedDate') {\r\n    return filtered.sort((a, b) => new Date(b.publishedDate) - new Date(a.publishedDate));\r\n  } else if (sortBy.value === 'genre') {\r\n    return filtered.sort((a, b) => a.genre.localeCompare(b.genre));\r\n  }\r\n\r\n  return filtered;\r\n});\r\n\r\n// Edit and Delete methods\r\nconst editBook = (book) => {\r\n  editingBook.value = { ...book };\r\n};\r\n\r\nconst deleteBook = async (bookId) => {\r\n  try {\r\n    await axiosInstance.delete(`/books/${bookId}`);\r\n    books.value = books.value.filter(book => book.id !== bookId);\r\n  } catch (error) {\r\n    console.error(\"Error deleting book: \", error);\r\n  }\r\n};\r\n\r\nconst cancelEdit = () => {\r\n  editingBook.value = null;\r\n  imageFile.value = null;\r\n};\r\n\r\nconst onFileChange = (e) => {\r\n  imageFile.value = e.target.files[0];\r\n};\r\n\r\nconst uploadImage = async () => {\r\n  if (imageFile.value) {\r\n    const storageReference = storageRef(storage, `books/${Date.now()}_${imageFile.value.name}`);\r\n    const uploadTask = uploadBytesResumable(storageReference, imageFile.value);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      uploadTask.on(\r\n        'state_changed',\r\n        null,\r\n        (error) => {\r\n          console.error(\"Error uploading image: \", error);\r\n          reject(error);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            resolve(downloadURL);\r\n          });\r\n        }\r\n      );\r\n    });\r\n  } else {\r\n    return editingBook.value.imageUrl;\r\n  }\r\n};\r\n\r\nconst updateBook = async () => {\r\n  const uploadedImageUrl = await uploadImage();\r\n\r\n  const bookData = {\r\n    fields: {\r\n      title: { stringValue: editingBook.value.title },\r\n      genre: { stringValue: editingBook.value.genre },\r\n      imageUrl: { stringValue: uploadedImageUrl || '' }\r\n    }\r\n  };\r\n\r\n  try {\r\n    await axiosInstance.patch(`/books/${editingBook.value.id}`, bookData);\r\n    books.value = books.value.map(book =>\r\n      book.id === editingBook.value.id ? { ...editingBook.value, imageUrl: uploadedImageUrl } : book\r\n    );\r\n    cancelEdit();\r\n  } catch (error) {\r\n    console.error(\"Error updating book: \", error);\r\n  }\r\n};\r\n\r\n// Fetch books when the component is mounted\r\nonMounted(fetchBooks);\r\n</script>\r\n\r\n<style scoped>\r\n.book-item:hover {\r\n  transform: translateY(-4px);\r\n}\r\n</style>\r\n","import script from \"./BookList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BookList.vue?vue&type=style&index=0&id=6a1fb1be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a1fb1be\"]])\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=51d7c1f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51d7c1f6\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbook_crud_app\"] = self[\"webpackChunkbook_crud_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8413); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","storage","getFirestore","getStorage","firestoreBaseUrl","axiosInstance","axios","create","baseURL","headers","title","ref","author","isbn","publishedDate","genre","imageFile","imageUrl","errors","base64ToBlob","base64String","mimeType","byteString","atob","arrayBuffer","ArrayBuffer","length","uint8Array","Uint8Array","i","charCodeAt","Blob","type","onFileChange","e","file","target","files","reader","FileReader","onload","event","result","split","value","readAsDataURL","uploadImage","async","storageReference","storageRef","Date","now","name","uploadTask","uploadBytesResumable","Promise","resolve","reject","on","error","console","getDownloadURL","snapshot","then","downloadURL","validateForm","valid","createBook","uploadedImageUrl","bookData","fields","stringValue","post","alert","__exports__","books","editingBook","searchQuery","sortBy","showBookFormModal","fetchBooks","response","get","data","documents","map","doc","id","pop","Object","fromEntries","entries","key","filteredBooks","computed","query","toLowerCase","filtered","filter","book","includes","sort","a","b","localeCompare","editBook","deleteBook","delete","bookId","cancelEdit","updateBook","patch","onMounted","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}